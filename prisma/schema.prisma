

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int      @id @default(autoincrement())
  email    String   @unique
  password String
  rooms    Room[]
  polls    Poll[]
}

model Room{
  id        Int     @id @default(autoincrement())
  roomName  String
  roomLink  String   @unique
  createdAt DateTime @default(now())
  adminId   Int
  question  String?
  isActive  Boolean  @default(false)
  polls     Poll[]
  admin     User    @relation(fields:[adminId],references:[id])
}

model Poll{
  id       Int     @id @default(autoincrement())
  roomId   Int
  userId   Int
  polls    String[] //can have multiple polls

  room     Room    @relation(fields:[roomId] , references:[id])
  user     User    @relation(fields:[userId] , references:[id])
}
